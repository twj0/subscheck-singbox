# SubsCheck-Singbox v3.0

ğŸš€ **Python+Goæ··åˆæ¶æ„çš„é«˜æ€§èƒ½ä»£ç†èŠ‚ç‚¹æµ‹é€Ÿå·¥å…·**

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/)
[![Go](https://img.shields.io/badge/Go-1.21+-00ADD8.svg)](https://golang.org/)


## âœ¨ ç‰¹è‰²åŠŸèƒ½

### ğŸ Pythonå±‚ (æ™ºèƒ½è®¢é˜…è§£æ)
- âœ… **å¤šæ ¼å¼è®¢é˜…æ”¯æŒ**ï¼šbase64ã€plain textã€åµŒå¥—è®¢é˜…ã€YAMLã€JSON
- âœ… **å¤šåè®®æ”¯æŒ**ï¼šss://, vmess://, vless://, trojan://, hysteria://, tuic://
- âœ… **æ™ºèƒ½å»é‡**ï¼šè‡ªåŠ¨å»é™¤é‡å¤èŠ‚ç‚¹ï¼Œæé«˜æµ‹è¯•æ•ˆç‡
- âœ… **æ•°é‡æ§åˆ¶**ï¼šæ™ºèƒ½é™åˆ¶æµ‹è¯•èŠ‚ç‚¹æ•°é‡ï¼Œé¿å…è¶…æ—¶
- âœ… **ä¸´æ—¶HTTPæœåŠ¡å™¨**ï¼šè§£å†³Goç¨‹åºæ–‡ä»¶è¯»å–é—®é¢˜

### âš¡ Goæ ¸å¿ƒ (åŸç”Ÿåè®®æµ‹é€Ÿ)
- âœ… **åŸç”Ÿåè®®æµ‹é€Ÿ**ï¼šæ¯ä¸ªèŠ‚ç‚¹ä½¿ç”¨å…¶åŸç”Ÿåè®®æµ‹è¯•ï¼Œç»“æœæ›´å‡†ç¡®
- âœ… **é«˜æ€§èƒ½å¹¶å‘**ï¼š10ä¸ªå¹¶å‘çº¿ç¨‹é«˜æ•ˆæµ‹é€Ÿï¼Œæ”¯æŒè‡ªå®šä¹‰å¹¶å‘æ•°
- âœ… **å®æ—¶è¿›åº¦æ˜¾ç¤º**ï¼šæ¸…æ™°çš„è¿›åº¦æ¡å’ŒçŠ¶æ€ï¼Œå®æ—¶æŒæ¡æµ‹è¯•è¿›åº¦
- âœ… **èµ„æºç®¡ç†**ï¼šè‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶å’ŒæœåŠ¡å™¨ï¼Œé¿å…èµ„æºæ³„æ¼
- âœ… **è·¨GFWæµ‹è¯•**ï¼šçœŸå®çš„ç¿»å¢™ç¯å¢ƒé€Ÿåº¦æµ‹è¯•ï¼Œç»“æœæ›´å¯é 

### ğŸŒ æµåª’ä½“æ£€æµ‹
- âœ… **å¤šå¹³å°æ”¯æŒ**ï¼šYouTubeã€Netflixã€OpenAIã€Disney+ã€Geminiã€TikTok
- âœ… **IPé£é™©æ£€æµ‹**ï¼šæ£€æµ‹ä»£ç†IPçš„é£é™©ç­‰çº§å’Œåœ°ç†ä½ç½®
- âœ… **åŒºåŸŸè§£é”æ£€æµ‹**ï¼šæ£€æµ‹ä¸åŒæµåª’ä½“å¹³å°çš„è§£é”åŒºåŸŸ

### ğŸ’¾ å¤šç§ç»“æœä¿å­˜æ–¹å¼
- âœ… **æœ¬åœ°ä¿å­˜**ï¼šä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ï¼Œæ”¯æŒYAMLã€Base64ç­‰å¤šç§æ ¼å¼
- âœ… **GitHub Gist**ï¼šä¿å­˜åˆ°GitHub Gistï¼Œæ–¹ä¾¿åˆ†äº«å’ŒåŒæ­¥
- âœ… **WebDAV**ï¼šä¿å­˜åˆ°WebDAVæœåŠ¡å™¨ï¼Œæ”¯æŒç§æœ‰äº‘å­˜å‚¨
- âœ… **S3/MinIO**ï¼šä¿å­˜åˆ°S3/MinIOå¯¹è±¡å­˜å‚¨ï¼Œæ”¯æŒå¤§è§„æ¨¡éƒ¨ç½²
- âœ… **Cloudflare R2**ï¼šä¿å­˜åˆ°Cloudflare R2ï¼Œå…¨çƒCDNåŠ é€Ÿ

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
SubsCheck-Singbox v3.0/
â”œâ”€â”€ ğŸ Pythonå±‚
â”‚   â”œâ”€â”€ main.py              # ä¸»ç¨‹åºå…¥å£ï¼Œæ··åˆæ¶æ„æ§åˆ¶
â”‚   â”œâ”€â”€ config.yaml          # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ requirements.txt     # Pythonä¾èµ–
â”‚   â”œâ”€â”€ .env.example         # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”‚   â”œâ”€â”€ parsers/             # è®¢é˜…è§£æå™¨
â”‚   â”œâ”€â”€ testers/             # æµ‹é€Ÿå™¨
â”‚   â”œâ”€â”€ core/                # æ ¸å¿ƒåŠŸèƒ½
â”‚   â””â”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ âš¡ Goæ ¸å¿ƒ
â”‚   â”œâ”€â”€ main.go              # Goç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ go.mod/go.sum        # Goæ¨¡å—ç®¡ç†
â”‚   â”œâ”€â”€ app/                 # åº”ç”¨é€»è¾‘
â”‚   â”œâ”€â”€ check/               # æµ‹é€Ÿå’Œæ£€æµ‹
â”‚   â”œâ”€â”€ proxy/               # ä»£ç†å¤„ç†
â”‚   â”œâ”€â”€ save/                # ç»“æœä¿å­˜
â”‚   â””â”€â”€ utils/               # Goå·¥å…·å‡½æ•°
â”‚
â””â”€â”€ ğŸ“ å…¶ä»–
    â”œâ”€â”€ build/               # ç¼–è¯‘è¾“å‡º
    â”œâ”€â”€ install.sh           # Linux/Unixå®‰è£…è„šæœ¬
    â”œâ”€â”€ install_windows.bat  # Windowså®‰è£…è„šæœ¬
    â”œâ”€â”€ python_legacy/       # æ—§ç‰ˆPythonä»£ç 
    â””â”€â”€ config.example.yaml  # é…ç½®ç¤ºä¾‹
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•ä¸€ï¼šè‡ªåŠ¨å®‰è£…è„šæœ¬ (æ¨è)

#### Ubuntu/Debian ç³»ç»Ÿ
```bash
# ä¸‹è½½å¹¶è¿è¡Œå®‰è£…è„šæœ¬
curl -fsSL https://raw.githubusercontent.com/your-repo/subscheck-singbox/main/install.sh | bash

# æˆ–è€…æ‰‹åŠ¨ä¸‹è½½
wget https://raw.githubusercontent.com/your-repo/subscheck-singbox/main/install.sh
chmod +x install.sh
./install.sh
```

#### CentOS/RHEL ç³»ç»Ÿ
```bash
# ä¸‹è½½å¹¶è¿è¡Œå®‰è£…è„šæœ¬
curl -fsSL https://raw.githubusercontent.com/your-repo/subscheck-singbox/main/install.sh | bash

# æˆ–è€…æ‰‹åŠ¨ä¸‹è½½
wget https://raw.githubusercontent.com/your-repo/subscheck-singbox/main/install.sh
chmod +x install.sh
./install.sh
```

#### Windows ç³»ç»Ÿ
```powershell
# ä½¿ç”¨ PowerShell è¿è¡Œå®‰è£…è„šæœ¬
irm https://raw.githubusercontent.com/your-repo/subscheck-singbox/main/install_windows.bat | iex

# æˆ–è€…æ‰‹åŠ¨ä¸‹è½½åè¿è¡Œ
# ä¸‹è½½ install_windows.bat å¹¶åŒå‡»è¿è¡Œ
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…

#### 1. ç¯å¢ƒè¦æ±‚
- Python 3.8+
- Go 1.21+
- Git

#### 2. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-repo/subscheck-singbox.git
cd subscheck-singbox
```

#### 3. å®‰è£…ä¾èµ–
```bash
# å®‰è£… uv Python åŒ…ç®¡ç†å™¨
curl -LsSf https://astral.sh/uv/install.sh | sh

# å®‰è£… Python ä¾èµ–
uv sync

# ç¼–è¯‘ Go ç¨‹åº
go mod download
go build -o build/subscheck main.go
```

#### 4. é…ç½®è®¾ç½®
```bash
# åˆ›å»ºé…ç½®æ–‡ä»¶
cp config.example.yaml config.yaml

# åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶ (å¯é€‰)
cp env.example .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ æ‚¨çš„è®¢é˜…é“¾æ¥
nano config.yaml
```

### ğŸ¯ è¿è¡Œæµ‹é€Ÿ

```bash
# åŸºæœ¬æµ‹é€Ÿ
uv run main.py

# ä»…ç¼–è¯‘Goæ ¸å¿ƒ
uv run main.py --compile-only

# è°ƒè¯•æ¨¡å¼
DEBUG=1 uv run main.py

# æŒ‡å®šé…ç½®æ–‡ä»¶
uv run main.py -c custom_config.yaml

# æŒ‡å®šè®¢é˜…æ–‡ä»¶
uv run main.py -s subscription.txt

# æŸ¥çœ‹å¸®åŠ©
uv run main.py --help
```

## ğŸ”„ å·¥ä½œæµç¨‹

```
1. Pythonè§£æè®¢é˜… â†’ 2. åˆ›å»ºä¸´æ—¶HTTPæœåŠ¡å™¨ â†’ 3. Goç¨‹åºè·å–èŠ‚ç‚¹ â†’ 4. Goé«˜æ€§èƒ½æµ‹é€Ÿ â†’ 5. Pythonå±•ç¤ºç»“æœ
```

## ğŸ“Š è¾“å‡ºç¤ºä¾‹

```
================================================================================
ğŸ¯ SubsCheck-Singbox v3.0 Python+Goæ··åˆæµ‹é€Ÿç»“æœ
================================================================================
ğŸ“Š èŠ‚ç‚¹ç»Ÿè®¡:
   â””â”€ Pythonè§£æèŠ‚ç‚¹: 5,252
   â””â”€ å®é™…æµ‹è¯•èŠ‚ç‚¹: 100

âš¡ Goæ ¸å¿ƒæµ‹é€Ÿç»Ÿè®¡:
   â””â”€ Goæ¥æ”¶èŠ‚ç‚¹: 100
   â””â”€ å»é‡åèŠ‚ç‚¹: 99
   â””â”€ å¯ç”¨èŠ‚ç‚¹: 15
   â””â”€ æ¶ˆè€—æµé‡: 0.156 GB

âœ… æˆåŠŸèŠ‚ç‚¹è¯¦æƒ… (15ä¸ª):
--------------------------------------------------------------------------------
 1. ğŸš€ [vmess] ç¾å›½-æ´›æ‰çŸ¶
    ğŸ“ 104.21.45.78:443
    â±ï¸  å»¶è¿Ÿ: 234ms | ğŸš€ é€Ÿåº¦: 45.67 Mbps

 2. âš¡ [vless] æ—¥æœ¬-ä¸œäº¬
    ğŸ“ 172.67.182.45:8080
    â±ï¸  å»¶è¿Ÿ: 156ms | ğŸš€ é€Ÿåº¦: 78.23 Mbps

ğŸ“ˆ æµ‹è¯•ç»“æœ:
   â””â”€ æˆåŠŸç‡: 15.2% (15/99)
   â””â”€ å¹³å‡é€Ÿåº¦: 52.45 Mbps
   â””â”€ å¹³å‡å»¶è¿Ÿ: 198ms

ğŸ”§ ç‰ˆæœ¬ä¿¡æ¯:
   â””â”€ Pythonæ¡¥æ¥: v3.0 (æ™ºèƒ½è®¢é˜…è§£æ)
   â””â”€ Goæ ¸å¿ƒ: v3.0 (åŸç”Ÿåè®®æµ‹é€Ÿ)
================================================================================
```

## ğŸŒ éƒ¨ç½²æ–¹æ¡ˆ

### Windows æœ¬åœ°æµ‹è¯•
```bash
uv run main.py
```

### Ubuntu VPS å®šæ—¶æµ‹é€Ÿ
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/subscheck-singbox
cd subscheck-singbox

# è¿è¡Œå®‰è£…è„šæœ¬
./install.sh

# è®¾ç½®å®šæ—¶ä»»åŠ¡
crontab -e
# æ·»åŠ : 0 */6 * * * cd /path/to/subscheck-singbox && uv run main.py
```

### Docker éƒ¨ç½²
```dockerfile
FROM golang:1.21-alpine AS builder

WORKDIR /app
COPY . .
RUN go mod download
RUN go build -o build/subscheck main.go

FROM python:3.11-alpine
RUN pip install uv
COPY --from=builder /app/build /app/build
COPY --from=builder /app/requirements.txt /app/
COPY --from=builder /app/main.py /app/
COPY --from=builder /app/parsers /app/parsers
COPY --from=builder /app/testers /app/testers
COPY --from=builder /app/utils /app/utils
COPY --from=builder /app/core /app/core

RUN uv sync

CMD ["uv", "run", "main.py"]
```

## ğŸ”§ é…ç½®è¯´æ˜

### config.yaml ä¸»è¦é…ç½®é¡¹

```yaml
# åŸºç¡€è®¾ç½®
concurrent: 10              # å¹¶å‘çº¿ç¨‹æ•° (å»ºè®®: 5-20)
timeout: 5000               # è¶…æ—¶æ—¶é—´(æ¯«ç§’) (å»ºè®®: 3000-10000)
check-interval: 60          # å®šæ—¶æ£€æŸ¥é—´éš”(åˆ†é’Ÿ)

# æµ‹é€Ÿé…ç½®
speed-test-url: "https://github.com/AaronFeng753/Waifu2x-Extension-GUI/releases/download/v2.21.12/Waifu2x-Extension-GUI-v2.21.12-Portable.7z"
download-timeout: 10        # ä¸‹è½½æµ‹è¯•æ—¶é—´(ç§’)
download-mb: 20            # å•èŠ‚ç‚¹æµ‹é€Ÿä¸‹è½½æ•°æ®å¤§å°(MB)
total-speed-limit: 0       # æ€»ä¸‹è½½é€Ÿåº¦é™åˆ¶(MB/s)
min-speed: 512             # æœ€ä½æµ‹é€Ÿç»“æœèˆå¼ƒ(KB/s)

# èŠ‚ç‚¹å¤„ç†
rename-node: true          # æ˜¯å¦é‡å‘½åèŠ‚ç‚¹
node-prefix: ""            # èŠ‚ç‚¹åç§°å‰ç¼€
filter-regex: ""           # èŠ‚ç‚¹åç§°è¿‡æ»¤æ­£åˆ™è¡¨è¾¾å¼
node-type: []              # åªæµ‹è¯•æŒ‡å®šåè®®çš„èŠ‚ç‚¹

# æµåª’ä½“æ£€æµ‹
media-check: false         # æ˜¯å¦å¼€å¯æµåª’ä½“æ£€æµ‹
platforms:                 # æ£€æµ‹å¹³å°åˆ—è¡¨
  - iprisk
  - youtube
  - netflix
  - openai

# ç»“æœä¿å­˜
save-method: "local"       # ä¿å­˜æ–¹å¼ (local/gist/webdav/s3/r2)
output-dir: ""             # è¾“å‡ºç›®å½•

# è®¢é˜…é“¾æ¥
sub-urls:
  - "https://raw.githubusercontent.com/example/sub1.txt"
  - "https://raw.githubusercontent.com/example/sub2.yaml"
```

### .env ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶æ¥ä¿å­˜æ•æ„Ÿä¿¡æ¯ï¼š

```bash
# å¤åˆ¶æ¨¡æ¿æ–‡ä»¶
cp env.example .env

# ç¼–è¾‘é…ç½®
nano .env
```

#### GitHub Gist é…ç½® (æ¨è)
1. åˆ›å»º GitHub Personal Access Tokenï¼š
   - è®¿é—®ï¼šhttps://github.com/settings/tokens
   - ç‚¹å‡» "Generate new token (classic)"
   - å‹¾é€‰ `gist` æƒé™
   - å¤åˆ¶ç”Ÿæˆçš„ token

2. åˆ›å»ºç©ºç™½ Gistï¼š
   - è®¿é—®ï¼šhttps://gist.github.com/
   - åˆ›å»ºä¸€ä¸ªæ–°çš„ Gist
   - å¤åˆ¶ URL ä¸­çš„ Gist ID

3. é…ç½® `.env`ï¼š
```bash
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxx
GITHUB_GIST_ID=your_gist_id_here
```

#### WebDAV é…ç½®
```bash
WEBDAV_URL=https://your-webdav-server.com/dav/
WEBDAV_USERNAME=your_username
WEBDAV_PASSWORD=your_password
```

#### S3/MinIO é…ç½®
```bash
S3_ENDPOINT=https://s3.amazonaws.com
S3_ACCESS_ID=your_access_key_id
S3_SECRET_KEY=your_secret_access_key
S3_BUCKET=your_bucket_name
```

#### é€šçŸ¥é…ç½®
```bash
# Telegram é€šçŸ¥
TELEGRAM_BOT_TOKEN=1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789
TELEGRAM_CHAT_ID=123456789

# Bark é€šçŸ¥ (iOS)
BARK_URL=https://api.day.app/YOUR_BARK_KEY

# Serveré…±é€šçŸ¥ (å¾®ä¿¡)
SERVERCHAN_URL=https://sctapi.ftqq.com/YOUR_SCT_KEY.send
```

## ğŸ“ é«˜çº§ç”¨æ³•

### æµåª’ä½“æ£€æµ‹
å¼€å¯æµåª’ä½“æ£€æµ‹å¯ä»¥è·å–æ›´å¤šèŠ‚ç‚¹ä¿¡æ¯ï¼Œä½†ä¼šå¢åŠ æµ‹è¯•æ—¶é—´ï¼š

```yaml
# config.yaml
media-check: true
platforms:
  - iprisk
  - youtube
  - netflix
  - openai
  - disney
  - gemini
  - tiktok
```

### èŠ‚ç‚¹è¿‡æ»¤
ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤ç‰¹å®šèŠ‚ç‚¹ï¼š

```yaml
# config.yaml
filter-regex: ".*é¦™æ¸¯.*"  # åªæµ‹è¯•åç§°åŒ…å«"é¦™æ¸¯"çš„èŠ‚ç‚¹
node-type: ["vmess", "vless"]  # åªæµ‹è¯•vmesså’Œvlessåè®®çš„èŠ‚ç‚¹
```

### å®šæ—¶ä»»åŠ¡
è®¾ç½®å®šæ—¶ä»»åŠ¡è‡ªåŠ¨æ‰§è¡Œæµ‹è¯•ï¼š

```bash
# Linux (crontab)
crontab -e
# æ·»åŠ ä»¥ä¸‹è¡Œï¼Œæ¯6å°æ—¶æ‰§è¡Œä¸€æ¬¡
0 */6 * * * cd /path/to/subscheck-singbox && uv run main.py

# Windows (ä»»åŠ¡è®¡åˆ’ç¨‹åº)
# åˆ›å»ºåŸºæœ¬ä»»åŠ¡ï¼Œè®¾ç½®è§¦å‘å™¨ä¸º"æ¯å¤©"ï¼Œé‡å¤é—´éš”ä¸º"6å°æ—¶"
# æ“ä½œä¸º"å¯åŠ¨ç¨‹åº"ï¼Œç¨‹åºä¸º"uv.exe"ï¼Œå‚æ•°ä¸º"run main.py"
```

### è‡ªå®šä¹‰é€šçŸ¥
é…ç½®å¤šç§é€šçŸ¥æ–¹å¼ï¼ŒåŠæ—¶è·å–æµ‹è¯•ç»“æœï¼š

```yaml
# config.yaml
save-method: "gist"  # ä¿å­˜åˆ°GitHub Gist

# .env
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **Goç¼–è¯‘å¤±è´¥**
   ```bash
   # æ£€æŸ¥Goç‰ˆæœ¬
   go version
   
   # é‡æ–°ä¸‹è½½ä¾èµ–
   go mod download
   
   # é‡æ–°ç¼–è¯‘
   go build -o build/subscheck main.go
   ```

2. **Pythonä¾èµ–å®‰è£…å¤±è´¥**
   ```bash
   # æ£€æŸ¥Pythonç‰ˆæœ¬
   python --version
   
   # é‡æ–°å®‰è£…ä¾èµ–
   uv sync
   ```

3. **è®¢é˜…é“¾æ¥æ— æ³•è·å–**
   ```bash
   # æ£€æŸ¥ç½‘ç»œè¿æ¥
   ping github.com
   
   # ä½¿ç”¨ä»£ç†
   export HTTP_PROXY=http://127.0.0.1:7890
   export HTTPS_PROXY=http://127.0.0.1:7890
   uv run main.py
   ```

4. **æµ‹è¯•ç»“æœä¸å‡†ç¡®**
   ```bash
   # å¢åŠ æµ‹è¯•æ—¶é—´
   download-timeout: 20
   download-mb: 50
   
   # é™ä½å¹¶å‘æ•°
   concurrent: 5
   ```

### è°ƒè¯•æ¨¡å¼
å¯ç”¨è°ƒè¯•æ¨¡å¼è·å–è¯¦ç»†æ—¥å¿—ï¼š

```bash
DEBUG=1 uv run main.py
```






